![제목을-입력해주세요_-013](https://github.com/hw20200500/quickboard/assets/117514148/25ff8fa0-25ed-4912-b30f-b49acdf5631e)


# 개인형 이동장치 교통사고 예방 및 단속 어플리케이션
------------------------------------------
### 개발 배경


사회적으로 킥보드(개인형 이동장치)에 대한 이슈가 커지고 있습니다. 계속해서 잘못된 전동킥보드 이용에 따른 문제점이 계속 일어나고 있으며 이를 제지하기 위한 법적 규제방안도 나오고 있지만 전동 킥보드 사고는 오히려 2017년부터 2022년까지 5년동안 꾸준히 증가하였습니다. 

이렇게 규제를 함에도 불구하고 사고가 끊이지 않는 이유를 저는 불법 전동킥보드 이용을 바로 제지, 처벌을 내리기 어렵다는 이유 때문으로 판단하였고, 불법적인 전동 킥보드 이용을 실시간으로 확인, 단속할 수 있는 어플리케이션을 제작해보고자 이를 개발하게 되었습니다. 

- 타겟층 : 개인형이동장치 운전자들, 불법 개인형이동장치 운전자들을 제재하고 싶은 지자체 등

------------------------------------------
### 현황 분석 및 모델 제작 페이지
[개인형이동장치 교통사고 분석 및 주행모드 인식 모델 제작](https://github.com/hw20200500/pm_accident_data)

------------------------------------------
### 사용한 도구(Tool)


- Android Studio, YOLOv5
- 활용한 API, 공공 데이터
    - NAVER API : 지도, 내비게이션 구현, 사용자 실시간 위치 정보 사용, 장소 검색 등을 할 때 NAVER에서 제공하는 여러 API 및 SDK를 사용하였습니다.
        - **Mobile Dynamic Map** : 메인 홈 화면에서의 지도 출력, 사용자 위치 정보 가져오기, 검색 페이지에서 전국 위치 정보 데이터 가져오기 등의 기능을 구현할 때 사용하였습니다.
        - **Directions 15** : 실시간 교통정보를 받아와서 출발지에서 목적지까지 최적의 경로 데이터를 제공하는  API입니다. 이를 이용하여 출발지에서 목적지까지 경로 데이터를 받아옵니다.
    - 공공 데이터 : 대전광역시 내에 있는 위치 정보 데이터를 가져와서 검색 페이지에서 해당 데이터를 사용할 때 이용하였습니다.

------------------------------------------
### 문제 해결 과정


**문제. YOLOv5 모델을 안드로이드 어플에 적용 및 결과 출력 오류 문제**

YOLOv8, YOLOv5 등 여러개의 YOLO 모델을 직접 제작하여 cmd에서 이미지, 영상으로 테스트하였을 때는 결과가 자동으로 정상 출력되었는데, 이를 어플리케이션에서 카메라에 비친 주행 도로 영상을 실시간으로 인지하여 배열 형태로 출력된 결과를 뽑아서 모바일 화면에 출력하는 과정에서 어려움을 겪었습니다. 

이를 파이썬 함수 YOLO를 이용하여 제작한 모델에서 어려움을 겪었고, 함수 YOLO 대신 같은 YOLO에서 제작한 영상인식 머신러닝 모델 학습 버전이지만 코드가 다 공개되어 있는 파이썬 코드, 함수를 이용하여 학습, 결과 출력하는 파이썬 코드 및 배열을 분석하여 안드로이드 스튜디오에서 정상적으로 인식 결과 문구를 출력하고, 이를 모바일 화면에서 보여질 수 있도록 제작하였습니다. 

------------------------------------------
### 구현 기능


1. 지도 출력 및 실시간 사용자 위치 정보 추적


   ![010](https://github.com/hw20200500/quickboard/assets/117514148/f2b69611-1254-4bb1-90cf-1343f1446f91) 
    - **Mobile Dynamic Map**을 이용하여 지도를 어플리케이션에서 출력하고, 지도를 불러오면서 동시에 사용자 위치 정보 데이터도 함께 받아와서 지도에 실시간으로 표시하도록 제작하였습니다.
    
3. 전국 자전거도로 표시
    - **Mobile Dynamic Map**에서 제공하는 ‘레이어’ 기능을 활용하였습니다. 이를 이용하여 전국의 자전거도로를 지도 위에 출력하여 보여지도록 제작하였습니다.
    - 이 기능을 통해서 사용자들이 안전하게 개인형이동장치를 이용할 수 있는 자전거도로가 어디에 있는지 쉽게 확인할 수 있도록 하였습니다.
    
4. 큰길(자전거 도로가 있는 도로) 위주의 경로 안내
    
    
    ![011](https://github.com/hw20200500/quickboard/assets/117514148/a998c87a-3d65-4777-92d6-f44c1c8cf1ef)

    - 도로교통법상 개인형이동장치는 자전거도로를 1순위로 이용하되, 만일 자전거도로가 없다면 차도로 주행하도록 되어있습니다. 따라서 **Directions 15 API**를 이용하여 조금 우회하더라도 자전거도로가 있는 ‘큰길’ 위주의 도로를 우선적으로 경로 안내하도록 설정하였습니다.
    
5. 주행 중 실시간 주행도로 인식 및 경고/안내 기능
    
    ![012](https://github.com/hw20200500/quickboard/assets/117514148/b82d453e-7de3-44be-85bd-577307f75791)

    
    - YOLOv5 모델을 이용하여 제작한 주행도로 인식 모델을 어플리케이션에 삽입하고, 사용자 주행 모드에서 사용자의 스마트폰 후면 카메라를 이용하여 실시간으로 주행 도로를 확인, 각 주행 도로에 따라 다른 안내/경고 메시지를 출력합니다.
        - 차도, 자전거도로: 경로 안내 메시지 출력
        - 인도: “인도로 다니지 마세요”라는 경고 메시지 출력
        - 횡단보도: “횡단보도로 다닐 때는 서행하세요” 안내 메시지 출력
